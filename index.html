<!DOCTYPE html>
<!-- =============================================================
     Attendance Tracker
     Version: v1.0 Stable (Modular Architecture)
     NOTE: This file is ONLY a skeleton loader.
     All logic is segregated into dedicated JS modules.
============================================================= -->
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attendance Tracker</title>

<!-- ================= CSS ================= -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/monthSelect/style.css">
<link rel="stylesheet" href="css/styles.css">

<!-- ================= External Libraries ================= -->
<script src="lib/qrcode.min.js"></script>
<script src="lib/html5-qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/monthSelect/index.js"></script>

</head>
<body>

<div class="container">
<div class="title-bar">
    <h2>Monthly Attendance Punch Tracker</h2>
    <a href="user-guide.html" class="guide-link">User Guide</a>
</div>

<!-- ================= UI SECTION ================= -->
<div class="row">
<label>Employee Type</label>
<div class="emp-type-options">
<label><input type="radio" name="empType" value="faculty" checked> Teaching</label>
<label><input type="radio" name="empType" value="staff"> Non-Teaching</label>
</div>
</div>

<div class="row">
<label>Filter Month</label>
<input type="text" id="monthFilter" autocomplete="off">
</div>

<div id="summaryPanel" class="summary-panel" style="display:none"></div>

<div class="row">
<label id="datePickerLabel">Date</label>
<input type="text" id="datePicker" autocomplete="off">
</div>

<div class="row" id="outEndDateRow" style="display:none">
<label>Tour End Date</label>
<input type="text" id="datePickerEnd" autocomplete="off">
</div>

<div class="row">
<label>Punch-In Time</label>
<input type="text" id="punchIn" value="09:00 AM" autocomplete="off">
</div>

<div class="row">
<label>Punch-Out Time</label>
<input type="text" id="punchOut" value="05:30 PM" autocomplete="off">
</div>

<div class="row">
<label>Required Daily Hours</label>
<select id="requiredHours">
<option value="8.5">8h 30m (8.5 Hours - Standard Duty)</option>
</select>
</div>

<div class="row">
<label>Closed Holiday / Special Leave</label>
<div class="paired-options">
<div class="paired-option-group">
<div class="paired-option-title">Closed Holiday</div>
<div class="radio-options">
<label><input type="radio" name="closedHoliday" value="no" checked> No</label>
<label><input type="radio" name="closedHoliday" value="yes"> Yes</label>
</div>
</div>
<div class="paired-option-group">
<div class="paired-option-title">Special Leave</div>
<div class="radio-options">
<label><input type="radio" name="specialLeave" value="no" checked> No</label>
<label><input type="radio" name="specialLeave" value="yes"> Yes</label>
</div>
</div>
</div>
</div>

<div class="row">
<label>Official Tour</label>
<select id="officialTour">
<option value="none">No</option>
<option value="local">Local Station</option>
<option value="out">Outstation</option>
</select>
</div>

<button id="saveBtn">Save Punch</button>

<!-- ================= TABLE SECTION ================= -->
<div class="table-wrap">
<table id="recordsTable">
<thead>
<tr>
<th>Date</th>
<th>Emp</th>
<th>In</th>
<th>Out</th>
<th>Hours</th>
<th>Status</th>
<th>Reason</th>
<th>Edit</th>
<th>Action</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<!-- ================= ACTION BUTTONS ================= -->
<div class="action-row">

<div class="dropdown">
<button id="importBtn">Import Report</button>
<div class="dropdown-menu" id="importMenu">
<div data-type="qr-scan">QR Code Scan</div>
<div data-type="qr-upload">QR Code Image Upload</div>
<div data-type="csv">CSV File Upload</div>
</div>
</div>

<div class="dropdown">
<button id="exportBtn">Export Report</button>
<div class="dropdown-menu" id="exportMenu">
<div data-type="qr-month">QR Code – Filter Month Records</div>
<div data-type="qr-all">QR Code – Entire Records</div>
<div data-type="csv-month">CSV File – Filter Month Records</div>
<div data-type="csv-all">CSV File – Entire Records</div>
</div>
</div>

<div class="dropdown">
<button id="deleteBtn">Delete Records</button>
<div class="dropdown-menu" id="deleteMenu">
<div data-type="month">Filter Month Records</div>
<div data-type="all">Entire Records</div>
</div>
</div>

<input type="file" id="importFile" accept=".csv" style="display:none">
<input type="file" id="qrImageFile" accept="image/*" style="display:none">

</div>

<div id="qrContainer"></div>
<div id="qrReader"></div>

<footer class="app-footer">© <span id="copyrightYear"></span> Attendance Punch Tracker. All rights reserved.</footer>
</div>

<!-- ================= APPLICATION MODULES ================= -->

<!-- Config & Constants -->
<script src="js/config.js"></script>

<!-- Storage Layer -->
<script src="js/storage.js"></script>

<!-- Attendance Rule Engines -->
<script src="js/rules-faculty.js"></script>
<script src="js/rules-staff.js"></script>

<!-- Monthly Recalculation Engine -->
<script src="js/monthly-recalc.js"></script>

<!-- Summary Module -->
<script src="js/summary.js"></script>

<!-- Table Renderer -->
<script src="js/table.js"></script>

<!-- Import / Export (QR + CSV) -->
<script src="js/import-export.js"></script>

<!-- UI Controller (Event Bindings Only) -->
<script src="js/ui.js"></script>

<!-- App Bootstrapper -->
<script src="js/app.js"></script>

</body>
</html>
